# ğŸ“Š è¯„ä¼°å’Œå¯è§†åŒ–æ¨¡å—ä½¿ç”¨æŒ‡å—

æœ¬æ–‡æ¡£ä»‹ç»å¦‚ä½•ä½¿ç”¨å®šé‡è¯„ä¼°å’Œå¯è§†åŒ–åŠŸèƒ½ã€‚

---

## ğŸ“¦ æ–°å¢æ–‡ä»¶è¯´æ˜

### æ ¸å¿ƒæ¨¡å—

1. **`evaluation_metrics.py`** - è¯„ä¼°æŒ‡æ ‡è®¡ç®—æ¨¡å—
   - æä¾›å…¨é¢çš„å®šé‡è¯„ä¼°æŒ‡æ ‡
   - è‡ªåŠ¨ç”Ÿæˆè¯„ä¼°æŠ¥å‘Š
   - æ”¯æŒç‹¬ç«‹è¿è¡Œ

2. **`visualize_results.py`** - å¯è§†åŒ–æ¨¡å—
   - ç”Ÿæˆ5ç§ä¸“ä¸šå›¾è¡¨
   - æ”¯æŒä¸­æ–‡æ˜¾ç¤º
   - è‡ªåŠ¨ä¿å­˜åˆ°æœ¬åœ°

3. **`run_evaluation.py`** - ç‹¬ç«‹è¯„ä¼°è„šæœ¬
   - ä¸€é”®è¯„ä¼°å’Œå¯è§†åŒ–
   - é€‚åˆå¯¹å·²æœ‰æ–¹æ¡ˆè¿›è¡Œåˆ†æ

---

## ğŸ¯ è¯„ä¼°æŒ‡æ ‡ä½“ç³»

### 1. ä»»åŠ¡å®Œæˆåº¦æŒ‡æ ‡ (40%æƒé‡)

| æŒ‡æ ‡ | è¯´æ˜ | è®¡ç®—æ–¹å¼ |
|-----|------|---------|
| **ä»»åŠ¡å®Œæˆç‡** | å®Œæˆä»»åŠ¡çš„æ¯”ä¾‹ | å®Œæˆæ•° / æ€»æ•° Ã— 100% |
| **é«˜ä¼˜å…ˆçº§å®Œæˆç‡** | ç´§æ€¥+é«˜ä¼˜å…ˆçº§å®Œæˆç‡ | å®Œæˆæ•° / æ€»æ•° Ã— 100% |
| **ä¼˜å…ˆçº§åˆ†å¸ƒ** | å„ä¼˜å…ˆçº§å®Œæˆæƒ…å†µ | ç»Ÿè®¡å„çº§åˆ«å®Œæˆæ•° |

### 2. æ—¶é—´æ•ˆç‡æŒ‡æ ‡ (25%æƒé‡)

| æŒ‡æ ‡ | è¯´æ˜ | å•ä½ |
|-----|------|------|
| **æ€»å®Œæˆæ—¶é—´** | æ‰€æœ‰ä»»åŠ¡å®Œæˆçš„æœ€æ™šæ—¶é—´ | åˆ†é’Ÿ |
| **å¹³å‡ç­‰å¾…æ—¶é—´** | ä»»åŠ¡å¹³å‡ç­‰å¾…å¼€å§‹çš„æ—¶é—´ | åˆ†é’Ÿ |
| **ç´§æ€¥å“åº”æ—¶é—´** | ç´§æ€¥ä»»åŠ¡çš„å“åº”æ—¶é—´ | åˆ†é’Ÿ |
| **æ—¶é—´çª—å£åˆ©ç”¨ç‡** | æ—¶é—´èµ„æºåˆ©ç”¨æ•ˆç‡ | ç™¾åˆ†æ¯” |

### 3. èµ„æºåˆ©ç”¨æŒ‡æ ‡ (20%æƒé‡)

| æŒ‡æ ‡ | è¯´æ˜ | ç›®æ ‡ |
|-----|------|------|
| **æ— äººæœºåˆ©ç”¨ç‡** | ä½¿ç”¨çš„æ— äººæœºæ¯”ä¾‹ | è¶Šé«˜è¶Šå¥½ |
| **è´Ÿè½½å‡è¡¡åº¦** | ä»»åŠ¡åˆ†é…çš„å‡åŒ€ç¨‹åº¦ | æ ‡å‡†å·®è¶Šå°è¶Šå¥½ |
| **é£è¡Œè·ç¦»** | ä¼°ç®—çš„æ€»é£è¡Œè·ç¦» | è¶ŠçŸ­è¶Šå¥½ |

### 4. çº¦æŸæ»¡è¶³æŒ‡æ ‡ (15%æƒé‡)

| æŒ‡æ ‡ | è¯´æ˜ | ç›®æ ‡ |
|-----|------|------|
| **æ—¶é—´å†²çªæ•°** | æ£€æµ‹åˆ°çš„æ—¶é—´å†²çª | 0 |
| **çº¦æŸè¿åæ•°** | è¿åçº¦æŸçš„æ¬¡æ•° | 0 |
| **é£é™©ç­‰çº§** | æ•´ä½“é£é™©è¯„ä¼° | ä½é£é™© |
| **å®‰å…¨åˆ†æ•°** | å®‰å…¨æ€§è¯„åˆ† | è¶Šé«˜è¶Šå¥½ |

---

## ğŸš€ ä½¿ç”¨æ–¹æ³•

### æ–¹å¼1ï¼šè‡ªåŠ¨è¯„ä¼°ï¼ˆæ¨èï¼‰

è¿è¡Œä¸»ç¨‹åºæ—¶ï¼Œä¼šè‡ªåŠ¨è¿›è¡Œè¯„ä¼°å’Œå¯è§†åŒ–ï¼š

```bash
python autogen_uav_allocation.py
```

**è¾“å‡ºæ–‡ä»¶**ï¼š
- `output_allocation.json` - åˆ†é…æ–¹æ¡ˆ
- `output_allocation_evaluation.json` - è¯„ä¼°ç»“æœ
- `visualization_outputs/` - å¯è§†åŒ–å›¾è¡¨æ–‡ä»¶å¤¹

---

### æ–¹å¼2ï¼šç‹¬ç«‹è¯„ä¼°

å¯¹å·²æœ‰çš„åˆ†é…æ–¹æ¡ˆè¿›è¡Œè¯„ä¼°ï¼š

```bash
# è¯„ä¼°é»˜è®¤æ–‡ä»¶
python run_evaluation.py

# è¯„ä¼°æŒ‡å®šæ–‡ä»¶
python run_evaluation.py your_allocation.json
```

---

### æ–¹å¼3ï¼šä½¿ç”¨æ¨¡å—API

åœ¨Pythonä»£ç ä¸­ä½¿ç”¨ï¼š

```python
# è¯„ä¼°åˆ†é…æ–¹æ¡ˆ
from evaluation_metrics import AllocationEvaluator

evaluator = AllocationEvaluator(allocation_dict)
metrics = evaluator.evaluate_all()
report = evaluator.generate_report(metrics)
print(report)

# ç”Ÿæˆå¯è§†åŒ–
from visualize_results import AllocationVisualizer

visualizer = AllocationVisualizer(allocation_dict, metrics)
visualizer.visualize_all()
```

---

## ğŸ“Š ç”Ÿæˆçš„å›¾è¡¨è¯´æ˜

### 1. é›·è¾¾å›¾ (`1_radar_chart.png`)

**å†…å®¹**ï¼šå››ä¸ªç»´åº¦çš„è¯„åˆ†å¯¹æ¯”
- ä»»åŠ¡å®Œæˆåº¦
- æ—¶é—´æ•ˆç‡
- èµ„æºåˆ©ç”¨
- çº¦æŸæ»¡è¶³

**ç”¨é€”**ï¼šå¿«é€Ÿäº†è§£æ–¹æ¡ˆçš„æ•´ä½“è¡¨ç°

---

### 2. ä»»åŠ¡å®Œæˆåº¦å›¾ (`2_task_completion.png`)

**åŒ…å«ä¸¤ä¸ªå­å›¾**ï¼š
- **å·¦å›¾**ï¼šå„ä¼˜å…ˆçº§ä»»åŠ¡å®Œæˆæƒ…å†µæŸ±çŠ¶å›¾
- **å³å›¾**ï¼šæ€»ä½“å®Œæˆç‡é¥¼å›¾

**ç”¨é€”**ï¼šåˆ†æä»»åŠ¡å®Œæˆæƒ…å†µå’Œä¼˜å…ˆçº§åˆ†å¸ƒ

---

### 3. èµ„æºåˆ©ç”¨å›¾ (`3_resource_utilization.png`)

**åŒ…å«ä¸¤ä¸ªå­å›¾**ï¼š
- **å·¦å›¾**ï¼šæ¯ä¸ªæ— äººæœºçš„ä»»åŠ¡åˆ†é…æ•°
- **å³å›¾**ï¼šèµ„æºåˆ©ç”¨ç‡å’Œè´Ÿè½½å‡è¡¡åˆ†æ•°

**ç”¨é€”**ï¼šè¯„ä¼°èµ„æºä½¿ç”¨æ•ˆç‡å’Œè´Ÿè½½å‡è¡¡

---

### 4. ç”˜ç‰¹å›¾ (`4_gantt_chart.png`)

**å†…å®¹**ï¼šæ—¶é—´çº¿ä¸Šçš„ä»»åŠ¡æ‰§è¡Œæƒ…å†µ
- æ¨ªè½´ï¼šæ—¶é—´ï¼ˆå°æ—¶ï¼‰
- çºµè½´ï¼šæ— äººæœºID
- é¢œè‰²ï¼šä»»åŠ¡ä¼˜å…ˆçº§

**ç”¨é€”**ï¼šç›´è§‚å±•ç¤ºä»»åŠ¡çš„æ—¶é—´å®‰æ’

---

### 5. ç»¼åˆä»ªè¡¨ç›˜ (`5_dashboard.png`)

**åŒ…å«7ä¸ªå­æ¨¡å—**ï¼š
1. æ€»ä½“è¯„åˆ†ï¼ˆå¤§å·æ˜¾ç¤ºï¼‰
2. ä»»åŠ¡å®Œæˆç‡é¥¼å›¾
3. æ— äººæœºåˆ©ç”¨ç‡é¥¼å›¾
4. å„ç»´åº¦è¯„åˆ†æ¡å½¢å›¾
5. ä¼˜å…ˆçº§ä»»åŠ¡åˆ†å¸ƒ
6. æ—¶é—´æ•ˆç‡æŒ‡æ ‡
7. é£é™©è¯„ä¼°

**ç”¨é€”**ï¼šå…¨é¢çš„ä¸€é¡µå¼è¯„ä¼°æŠ¥å‘Š

---

## ğŸ“ˆ è¯„ä¼°æŠ¥å‘Šç¤ºä¾‹

```
======================================================================
ğŸ“Š æ— äººæœºä»»åŠ¡åˆ†é…æ–¹æ¡ˆè¯„ä¼°æŠ¥å‘Š
======================================================================

ğŸ¯ æ€»ä½“è¯„åˆ†: 87.5/100

1ï¸âƒ£ ä»»åŠ¡å®Œæˆåº¦
   â€¢ ä»»åŠ¡å®Œæˆç‡: 100.0%
   â€¢ å®Œæˆä»»åŠ¡æ•°: 5/5
   â€¢ é«˜ä¼˜å…ˆçº§å®Œæˆç‡: 100.0%
   â€¢ è¯„åˆ†: 1.000

2ï¸âƒ£ æ—¶é—´æ•ˆç‡
   â€¢ æ€»å®Œæˆæ—¶é—´: 195.0 åˆ†é’Ÿ
   â€¢ å¹³å‡ç­‰å¾…æ—¶é—´: 35.0 åˆ†é’Ÿ
   â€¢ ç´§æ€¥ä»»åŠ¡å“åº”: 0.0 åˆ†é’Ÿ
   â€¢ è¯„åˆ†: 0.813

3ï¸âƒ£ èµ„æºåˆ©ç”¨
   â€¢ æ— äººæœºåˆ©ç”¨ç‡: 75.0%
   â€¢ ä½¿ç”¨æ— äººæœº: 3/4
   â€¢ è´Ÿè½½å‡è¡¡åˆ†æ•°: 0.850
   â€¢ è¯„åˆ†: 0.800

4ï¸âƒ£ çº¦æŸæ»¡è¶³
   â€¢ æ—¶é—´å†²çªæ•°: 0
   â€¢ çº¦æŸè¿åæ•°: 0
   â€¢ é£é™©ç­‰çº§: ä½
   â€¢ å®‰å…¨åˆ†æ•°: 1.000
   â€¢ è¯„åˆ†: 1.000

======================================================================
```

---

## ğŸ¨ å›¾è¡¨è‡ªå®šä¹‰

### ä¿®æ”¹é¢œè‰²æ–¹æ¡ˆ

ç¼–è¾‘ `visualize_results.py`ï¼š

```python
# ä¼˜å…ˆçº§é¢œè‰²
priority_colors = {
    'ç´§æ€¥': '#E63946',  # çº¢è‰²
    'é«˜': '#F4A261',    # æ©™è‰²
    'ä¸­': '#2A9D8F',    # ç»¿è‰²
    'ä½': '#A8DADC'     # æµ…è“è‰²
}
```

### ä¿®æ”¹å›¾è¡¨å°ºå¯¸

```python
fig, ax = plt.subplots(figsize=(14, 8))  # è°ƒæ•´å®½åº¦å’Œé«˜åº¦
```

### ä¿®æ”¹è¾“å‡ºç›®å½•

```python
visualizer = AllocationVisualizer(allocation, metrics)
visualizer.output_dir = "my_custom_output"  # è‡ªå®šä¹‰è¾“å‡ºç›®å½•
visualizer.visualize_all()
```

---

## ğŸ”§ é…ç½®è¯„ä¼°æƒé‡

ç¼–è¾‘ `evaluation_metrics.py` ä¸­çš„ `calculate_overall_score()` æ–¹æ³•ï¼š

```python
weights = {
    'task_completion': 0.4,       # ä»»åŠ¡å®Œæˆåº¦ï¼ˆé»˜è®¤40%ï¼‰
    'time_efficiency': 0.25,      # æ—¶é—´æ•ˆç‡ï¼ˆé»˜è®¤25%ï¼‰
    'resource_utilization': 0.2,  # èµ„æºåˆ©ç”¨ï¼ˆé»˜è®¤20%ï¼‰
    'constraint_satisfaction': 0.15  # çº¦æŸæ»¡è¶³ï¼ˆé»˜è®¤15%ï¼‰
}
```

æ ¹æ®ä½ çš„åº”ç”¨åœºæ™¯è°ƒæ•´æƒé‡ï¼Œä¾‹å¦‚ï¼š
- **ç´§æ€¥æ•‘æ´åœºæ™¯**ï¼šæé«˜æ—¶é—´æ•ˆç‡æƒé‡
- **èµ„æºæœ‰é™åœºæ™¯**ï¼šæé«˜èµ„æºåˆ©ç”¨æƒé‡
- **å®‰å…¨å…³é”®åœºæ™¯**ï¼šæé«˜çº¦æŸæ»¡è¶³æƒé‡

---

## ğŸ“ å¸¸è§é—®é¢˜

### Q1: å›¾è¡¨ä¸­æ–‡æ˜¾ç¤ºä¹±ç ï¼Ÿ

**åŸå› **ï¼šç³»ç»Ÿç¼ºå°‘ä¸­æ–‡å­—ä½“

**è§£å†³æ–¹æ³•**ï¼š

```python
# åœ¨ visualize_results.py å¼€å¤´æ·»åŠ 
import matplotlib
matplotlib.rcParams['font.sans-serif'] = ['SimHei', 'Microsoft YaHei']
matplotlib.rcParams['axes.unicode_minus'] = False
```

æˆ–å®‰è£…å­—ä½“ï¼š
```bash
# Windows: ä½¿ç”¨ç³»ç»Ÿè‡ªå¸¦çš„å¾®è½¯é›…é»‘
# Linux: sudo apt-get install fonts-wqy-zenhei
# Mac: ä½¿ç”¨ç³»ç»Ÿè‡ªå¸¦çš„åæ–‡é»‘ä½“
```

---

### Q2: æç¤ºç¼ºå°‘matplotlibï¼Ÿ

**è§£å†³**ï¼š

```bash
pip install matplotlib numpy
```

æˆ–å®‰è£…å®Œæ•´ä¾èµ–ï¼š

```bash
pip install -r requirements.txt
```

---

### Q3: è¯„ä¼°ç»“æœä¸å‡†ç¡®ï¼Ÿ

**åŸå› **ï¼šè¾“å…¥æ•°æ®ä¸å®Œæ•´

**å»ºè®®**ï¼š
- ç¡®ä¿åˆ†é…æ–¹æ¡ˆJSONåŒ…å«å®Œæ•´ä¿¡æ¯
- æä¾›åŸå§‹ä»»åŠ¡è¾“å…¥æ•°æ®ï¼ˆå¯é€‰ï¼‰
- æ£€æŸ¥æ—¶é—´æ ¼å¼æ˜¯å¦æ­£ç¡®ï¼ˆHH:MMï¼‰

---

### Q4: æƒ³æ·»åŠ è‡ªå®šä¹‰æŒ‡æ ‡ï¼Ÿ

**æ­¥éª¤**ï¼š

1. åœ¨ `AllocationEvaluator` ç±»ä¸­æ·»åŠ æ–°æ–¹æ³•ï¼š

```python
def evaluate_custom_metric(self) -> Dict:
    """è‡ªå®šä¹‰è¯„ä¼°æŒ‡æ ‡"""
    # è®¡ç®—ä½ çš„æŒ‡æ ‡
    score = ...
    return {
        'custom_value': value,
        'score': score
    }
```

2. åœ¨ `evaluate_all()` ä¸­è°ƒç”¨ï¼š

```python
def evaluate_all(self):
    metrics = {
        'task_completion': self.evaluate_task_completion(),
        # ... å…¶ä»–æŒ‡æ ‡
        'custom_metric': self.evaluate_custom_metric(),  # æ–°å¢
    }
    return metrics
```

3. æ›´æ–°æƒé‡è®¡ç®—ï¼š

```python
weights = {
    # ... åŸæœ‰æƒé‡
    'custom_metric': 0.1,  # æ–°æŒ‡æ ‡æƒé‡
}
```

---

## ğŸ“š è¿›é˜¶åº”ç”¨

### 1. æ‰¹é‡è¯„ä¼°å¤šä¸ªæ–¹æ¡ˆ

```python
import glob
from evaluation_metrics import evaluate_allocation_from_file

# æ‰¾åˆ°æ‰€æœ‰åˆ†é…æ–¹æ¡ˆ
files = glob.glob("allocations/*.json")

results = []
for file in files:
    metrics, report = evaluate_allocation_from_file(file)
    results.append({
        'file': file,
        'score': metrics['overall_score']
    })

# æŒ‰åˆ†æ•°æ’åº
results.sort(key=lambda x: x['score'], reverse=True)
print("æœ€ä½³æ–¹æ¡ˆ:", results[0]['file'])
```

---

### 2. å¯¹æ¯”å¤šä¸ªæ–¹æ¡ˆ

```python
import matplotlib.pyplot as plt

schemes = ['æ–¹æ¡ˆA', 'æ–¹æ¡ˆB', 'æ–¹æ¡ˆC']
scores = [85.5, 78.3, 92.1]

plt.figure(figsize=(10, 6))
plt.bar(schemes, scores, color=['#2E86AB', '#A23B72', '#F18F01'])
plt.ylabel('æ€»ä½“è¯„åˆ†')
plt.title('æ–¹æ¡ˆå¯¹æ¯”')
plt.ylim(0, 100)
plt.grid(axis='y', alpha=0.3)
plt.savefig('comparison.png', dpi=300)
```

---

### 3. å¯¼å‡ºè¯„ä¼°æŠ¥å‘Šä¸ºPDF

```python
from reportlab.lib.pagesizes import letter
from reportlab.pdfgen import canvas

def export_to_pdf(metrics, report, output_file="evaluation_report.pdf"):
    c = canvas.Canvas(output_file, pagesize=letter)
    # æ·»åŠ å†…å®¹
    # ...
    c.save()
```

---

## ğŸ¯ æœ€ä½³å®è·µ

1. **æ¯æ¬¡è¿è¡Œéƒ½ä¿å­˜ç»“æœ**
   - ä¾¿äºåç»­å¯¹æ¯”åˆ†æ
   - å»ºç«‹å†å²æ•°æ®åº“

2. **å…³æ³¨è¶‹åŠ¿è€Œéå•æ¬¡ç»“æœ**
   - è¿è¡Œå¤šæ¬¡å–å¹³å‡å€¼
   - åˆ†æè¯„åˆ†çš„ç¨³å®šæ€§

3. **ç»“åˆä¸šåŠ¡åœºæ™¯è°ƒæ•´æƒé‡**
   - ä¸åŒåœºæ™¯æœ‰ä¸åŒçš„ä¼˜å…ˆçº§
   - æ ¹æ®å®é™…éœ€æ±‚å®šåˆ¶è¯„ä¼°ä½“ç³»

4. **å®šæœŸå®¡æŸ¥è¯„ä¼°æŒ‡æ ‡**
   - ç¡®ä¿æŒ‡æ ‡åæ˜ çœŸå®éœ€æ±‚
   - æ ¹æ®åé¦ˆæŒç»­ä¼˜åŒ–

---

## ğŸ“ è·å–å¸®åŠ©

å¦‚æœé‡åˆ°é—®é¢˜ï¼š

1. æŸ¥çœ‹é”™è¯¯ä¿¡æ¯å’Œå †æ ˆè·Ÿè¸ª
2. æ£€æŸ¥è¾“å…¥æ–‡ä»¶æ ¼å¼æ˜¯å¦æ­£ç¡®
3. ç¡®è®¤ä¾èµ–åŒ…å·²æ­£ç¡®å®‰è£…
4. æŸ¥çœ‹ç¤ºä¾‹ä»£ç å’Œæ–‡æ¡£

---

**ç¥ä½ ä½¿ç”¨æ„‰å¿«ï¼** ğŸ“Šâœ¨
